修改日志
Version 0.2.3.0
修改硬直，受击动作的过度问题
修复战况问题
修复盟主模式下复活问题(怒气不消失，如果死于环境会先死一次再复活)
修复NPC控制器过高导致被卡住问题
修复剧情NPC出生后无AI问题

Version 0.2.2.0
模式新增死斗，暗杀
创建模式下NPC会随机生成
增加创建内可设置场景初始人数
增加盟主模式下角色的复活

Version 0.2.1.0
修正皇天城崩溃问题
调整火枪问题
加入单机创建模式
加入新手教学关卡
调整联机卡顿问题
调整加入机器人界面
隐藏作弊控制选项
秘籍里输入god可以打开额外选项
主界面新增设置界面
可以切换模型品质
可以设置显示敌方血条

Version 0.2.0.0
加入宠物小猫

Version 0.1.8.0
修正不拾取镖物问题
修正战斗中跑回路点问题
只允许单机加速问题
预加载特效避免第一个特效非常卡的问题

Version 0.1.6.0
修正NPC的AI各项选择的几率
修正无锁定摄像机不跟随主角BUG
飞轮加上拖尾
修正模型和角色信息的匹配BUG
禁止部分绝招地裂特效-避免显示错误的大贴图

Version 0.1.0.1
2018/10/16
此版本作为正式版第一个版本
链接：https://pan.baidu.com/s/1mX6kjxraLlMGf11eBK1i0g 
提取码：ae63

虽然修改了很多问题，但是依旧有很多遗留问题
以后可能会以此为模板，做魔改版本。
比如把视角改为亡灵杀手类似。
把风格改为卡通3D风格。
再加上随机地牢，去除搓招，加入等级，刷怪，合成，强化，升级，背包，法术技能（类似赵云传里呼出攻击特效类似）

Version 0.0.9.1
2018/09/17
BUG
1:触摸镜头移动，触摸不移动后，镜头仍移动[已解决]
2:关卡结束卡在结算界面[已修改，待测试]
3:攻击盒严重到无法准确判定攻击,特别是匕首绝招在大决战里
4:角色寻路会被地图中的物件卡住.(一线天马车卡住NPC寻路)
5:移动中，有几率划屏改变视角无效[已修复]
6:丢弃武器，无法拾取，拾取崩溃[已修复]
7:搓招按键点击比上版相差太远[已修复]
8:乾坤刀剑气无攻击?[已修复]

这个版本修复了部分AI，现在的AI已经能与玩家打斗，NPC/NPC之间互相打斗

现在有4个主要问题要解决
这4个问题解决后，就开发联机模式
1：寻路部分在每一帧很多地方使用了new，这部分要梳理一下，尽量在每一帧不要使用new
2：攻击盒与受击盒子判定
3：UI整体贴图的改版
4：动作的硬直（AI可以在防御受击动画还未完成时攻击?），动作等级等问题（譬如在受击动画中又受到攻击，是持续当前的受击动画，还是播放新的受击动画）,
每把武器有7个防御POSE，还不知道什么时候使用

Version 0.0.7.9版
2018/07/28
新版本出炉了。
https://pan.baidu.com/s/1Fax0w-FteXg3dt6vNSYB0w

（还是测试版，AI并不完善，但是已经改了非常多问题）

修复了乾坤刀快速切换/拳套快速切换问题
修复关卡胜利播放角色特殊动作
修复关卡结束角色拥有位移时会往前跑一段
修复部分招式需要气的判断错误
角色寻路过程中有几率使用跳，除了跳跃路点外，其他情况也会跳，减少被地形卡住的几率
修复907招式连招表的行尾无逗号问题
修复关卡胜利后立即存档
修复角色界面模型距离不足武器显示一半问题
修复武器显示不使用RT贴图
修复乾坤刀武器姿势切换时机不对BUG
修复输入成功识别后，重置其他所有输入
修复AI朝固定位置攻击逻辑
修复Android6以上自动提示申请权限框

NPC有一定AI，但不完善
AI无切换武器逻辑
AI不能正确跟随玩家/决死阵
AI没有处理从近身处跑到远处使用远程武器逻辑
AI不一定能走到视野内的可拾取物/可能会被地形阻碍而不知跳跃

2018/07/23
NPC可以普攻，连招，大招，巡逻，跟随，防御，爆气，闪避
逃跑，拾取场景物品，战斗中切换武器，射击，远程武器使用，四处看都还有问题
无法使NPC攻击场景中某个位置，比如一线天的夜猫子不会主动去推大石头下来。

2018/07/16
镜头切换到锁定时有缓动效果，解锁时，无缓动效果
角色跑下坡路时，镜头严重抖动
跳跃时，镜头经常突然抖动

2018/07/09
现在客户端剩下的几个问题：
AI未完全实现（这个基本调一些细节就可以了，剩下就是出招和一些状态依权重的切换）
地图未合并DrawCall，直接用Combine Children即可大幅降低DrawCall
包括场景合并，以及道具的网格动画合并
主要是一些机关，破碎物，使用的是网格对象动画
这个需要用脚本转换为顶点动画，然后合并材质球。

因为一个武器箱子，被分为13个游戏对象，这样Dc是13个，如果合并，其实只有1个
而场景上类似的物件也不少，所以这个部分还是需要改变动画为顶点动画

摄像机会抖动
这3个问题解决后，其他的都是一些细节问题。
最后就是做联机。

unity5.4.4f1在update里使用foreach是不会造成问题的。
只需要把update里使用new的地方修改一下

今年内会结束此项目

2018/05/06
BUG：
爆气无法在受击动作时使用（已修改）
移动速度/跳跃速度太慢，导致一线天很难过关
人物能站立在墙壁上
部分绝招特效的攻击范围和原版不一样
敌人被打躺在地面会转向主角
敌人躺地面不起身
敌人躺地面后立即起身
角色处于地形边缘会抖动
点玩家头像引起的bug(已修复)

2018/05/06
摄像机以d_base骨骼作为跟随基准点（这个还是先还原了，等把动作帧插值做了，再来做这个）
现在最大的问题是
1：动画关键帧间无插值
2：没有AI
3；关卡脚本复原还有一些问题（寻路，攻击指定位置，等)

2018/05/05
解决飞轮BUG
原因是2个向量方向一致时，Vector3.Dot得到的值精度存在问题，用Mathf.Acos算出得到NAN
解决1.07飞轮回收后要等待一段时间问题。
飞轮大招不耗费怒气bug

Version 0.5.1
2018/05/02
https://pan.baidu.com/s/17D3esYN_CNCdGekBdPoZgQ
主要增加了远程武器
修改了部分AI

2018/04/30
调整跳跃速度，移动速度问题
调整临近墙壁鬼畜问题
修正了皇天秤NPC脚本问题
修改了树木树叶的晃动
修正了攻击者方位判定错误
调整了场景道具使用AnimationCurve做Y轴缓动
调整了相机的跟随，加快了旋转，垂直跟随（现在相机还有绕Z轴倾斜的BUG）
调整了飞轮的运动轨迹

2018/04/27
加入主角色的远程武器，飞镖，飞轮，火枪的实现

工程源码
https://github.com/365082218/meteor_original_ios.git

增加版本切换功能
可以支持107，907，2个版本的切换

2018/04/21
爆气只能在IDLE下切换，是有问题的，爆气主要目的是在受击状态内使用

2018/04/18
锁定/非锁定时摄像机图标对调
新BUG，敌方在丢失目标时，绝招还会朝目标仍，已修改

2018/04/17
大刀快速攻击，会导致普攻的POSE快速切换，已修改（POSE 295,296,297的设置）
更新了角色能走过钟乳洞平台.

2018/04/14
蹬墙壁动作调好了，但是Y轴速度有一定问题，表现和原作不一样
主角角色受击血条不刷新
敌人血条逼格太低，要改得帅气点
从墙壁掉落很有问题，会出现角色频繁抖动下落
战斗UI按钮，有几个重复图标，2个图标的按钮无作用，要改
主角受击后的硬直要改
设置摇杆位置重启后，设置丢失

2018/04/12
bug
蹬墙动作不正常（已修复动作，但是Y轴速度有一定问题，金华城无法反复蹬墙上桥）
按住摇杆后跳跃过远
敌人不会离开战场-脚本可能存在问题（这是因为离开条件不成立导致的-屠城和范玄距离不够近）
部分AI-一点反应都没有? 大决战后面几个怪物处于无控制
部分关卡角色死亡后一直下落-五雷塔

Version v0.4.3
2018/04/11
https://pan.baidu.com/s/1VuBCc82ZJMPTDtJeUzRvVw
换到907版本
修正了一个OverlayWindow界面不显示的问题

2018/04/11
更新了某些武器爆出时不正确，闪退问题，这个是因为部分武器是原版的，部分武器是配表的
更新了爆气受无限气影响
更新了预备动作时，可切换武器
更新了跳跃高度随按下跳跃时长影响
更新了找到目标为自身时的问题
改变了怪物AI。怪物满气后会试图丢大

IOS端 2018/04/04
怪物还是没AI，新加了一个场景，怪物有时候会开个大。
https://pan.baidu.com/s/13KZ-Jzn3OCr8W0ejtypqFA

安卓版本有更新了：2018/03/26
下载地址：https://pan.baidu.com/s/1f7R-BbgQZEe2iQ4j-xQSgg
提示：此版本依旧没有加入怪物AI
更新内容
完善关卡脚本，全关卡脚本大体恢复。
增加了摇杆
增加了设置摇杆位置功能
修改了默认情况下非无限气，不显示调试面板和调试按钮，不显示控制面板和控制按钮
完善雪人，手机等模型特效表现问题

2018/03/23
修复了全部关卡的脚本和NPC脚本，还缺细节处理，再就是差过关条件，以及寻路，怪物AI部分

2018/03/22
稍改了钟乳洞，金华城，炽雪城关卡的脚本和对应的NPC脚本，只能整体的运行，还是有很多细节不对

2018/03/21
最近收到很多流星玩家的反馈
包括
1：方向键小了，不好操作/去除方向键，直接用摇杆（现在这个部分还没有确定最终怎么改）
2：轻工无法在墙壁间不落地切换
3：npc太弱智，无联机整个端就是废的，NPC没有攻击目标
4：远程武器无法使用
5：没法蹲下，和蹲下滚动-装死
6：NPC攻击主角时，攻击范围很大?
7：招式判定很紧，搓招很难出
8：视角移动的白色背景去掉
9：钟乳洞的桥，无法按住一个方向键一直走过桥，而一定会掉下去，需要解决摇杆控制问题
10：能不能加蓝牙手柄控制
11：视角问题-现在自动视角的切换，经常让2个主要角色不在屏幕正中间
12：设置面板切换到某些分栏后，点击背景后面板隐藏，无法继续操作角色问题。
13：按住视角不放，按方向会有几率无法移动
14：后跳有一定几率不触发

2018/03/14
打了一个IOS包，在手机上试了一下，感觉还行，稍微有点发烫
越狱版IPA：https://pan.baidu.com/s/1GS7U0s-V_LTcVAHWjEm_GQ
BUG：
操作上连招识别太严谨了，应该放松一点的，毕竟手机上按键最多连击4个，每2个键的连击间隔大于8帧就会断开连招，这个会导致连招很难按 30帧/S情况下稍微慢一点，招式就出不来了
没有摇杆控制起来很不方便，有了摇杆很难搓招（这个按照FATE说的来改）
方向键按住后，按攻击键不会连着方向键一起算招 （已修改）
烽火雷的锁链shader没设置 （已修改）
五雷塔进地图就死了 （已修改）
伏虎山无法移动视角 (应该解决了)
武器的shader不是双面导致显示不了背面 （已修改）
剑空下刺没有攻击盒无法打到敌方 (已修改 攻击帧只有1帧的情况，起始帧和结束帧为同一帧)
部分武器空中下A没停顿，这个涉及到一个动作里，前一部分帧忽略重力，后一部分帧开启重力
威震八方传送门上的特效全不见了 (场景类型ticket不一样，暂时不改)
匕首小绝特效持续比较久，不知为何 (已修改，是调特效编辑器的时候改了特效没还原导致的)
锤绝特效在接别的招式时不正确
控制面板左侧不能滚动，最底下一排的几个怪物刷不出来 (已修改)
忍刀微尘死后模型不动了 （已修改）
四方阵天空有问题  （已去除所有shader forge的天空盒）
五爪峰锁链没有背面网格会卡死角色 （已修改）
关卡初始武器不正确，1关卡 (已修改,其他关卡还未恢复脚本)
BUFF圣诞蛋糕，会变为雪人BUFF不正确 (已修改)
圣诞夜星星没有billboard （已修改）
乾坤刀切换武器的时机不正确 （已修改）
连接动作瞬间切换BUG (已修改)

安卓版有更新了：2018/03/14
下载地址：https://pan.baidu.com/s/1caTPS8wVGQsFT9dPIg-CLw
更新了BUFF系统，原游戏的BUFF可以正常体验，数值上可能有部分不一致（包括指虎的嗜血，忍刀的隐身，锤子的金钟，双刺的豹灵，以及一些招式打到敌方时，敌方会带一些中毒BUFF：毒之类）
更新了场景道具系统，箱子，罐子都可正常打碎，并且爆出相应物品或者武器
更新了丢武器动作条，战斗UI下方的方向按钮，点击后即可展开动作条，第一个动作为丢弃副武器（如果有）
其他几个动作暂时未实现
更新了战斗结束判断，以及战斗结束UI。
更新了战斗UI上显示BUFF的数据（名称和倒计时）
第一关和第三关基本可正常体验，除了怪物无AI以外。
下个版本将重点放在恢复关卡脚本，以及怪物AI的还原上。

这个包已修改问题
  修正上传日志线程的文件访问冲突
  修正摄像机控制的灵敏
  动画插值取消：除了锤绝325特效在连招下显示不正常以外，其他特效时机基本正确
  修正了按键响应不正确问题
  安卓8.0黑屏问题，需要清除游戏数据后，手动给游戏存储权限（勾选完全信任等选项）再重新进入游戏即可

2018/3/12
更新了角色死亡，丢弃副手武器，若有镖物丢弃镖物，镖物3秒后回位
更新了场景道具的全部功能，包括铁箱子，木头箱子，桌子，椅子，可破坏物，以及随机血包，毒包，【捡取物品的功能还有问题，因为表里的数不正确】
更新了战斗UI里底部的动作条，可以扔出副手武器，其他（嘲讽，援助，撞死，怒还需要实现）
缺少怪物AI,怪物寻路等功能
缺少场景下雪的粒子功能实现
缺少捡取物品后，带上装饰物功能，比如圣诞夜里带上圣诞鞋，圣诞帽等模型挂载骨骼功能
其他，准备在淘宝上买一个开发证书p12文件，因为之前的开发者账号过期了，试着导出XCode包在黑苹果上打包到手机上测试（自己的安卓手机太旧，带不动游戏）

2018/3/11
更新了一下APK，一线天关卡脚本除了怪物AI以外，其他基本还原了，就是手机操控不好打开开关然后进门
APK地址（适用Android4.0-Android6.0的手机）
[百度云链接]https://pan.baidu.com/s/1D7vgScbdoMb9AOaZtRHLQA [2018/3/11日已过期]

![](http://www.idevgame.com/images/article/demo0.jpg)
2018/03/05：
流星蝴蝶剑.net Android 初版Demo(仅体验，可加无AI电脑，切换武器，释放招式，游览场景)
支持安卓4.0以及以上版本的手机，对应API Level 14
百度云地址
https://pan.baidu.com/s/1GQaagEThklzLF5NZ59QHvQ[2018/3/11日已过期]

2018/03/02：补上一张架构图
![客户端架构图](http://www.idevgame.com/images/article/Meteor.png)

2018/02/18：招募伙伴开发手游了，**对游戏有兴趣的**可以加入QQ群 
<a target="_blank" href="//shang.qq.com/wpa/qunwpa?idkey=1b60b431b568cbdbbd967242096a771b57fed50f12c0525085f0a0446aff6a9d"><img border="0" src="//pub.idqqimg.com/wpa/images/group.png" alt="流星手游版-游戏开发" title="流星手游版-游戏开发"></a>

**[预览视频](http://v.youku.com/v_show/id_XMzQwNTY3NDk2NA==)** 
<iframe height=600 width=800 src='http://player.youku.com/embed/XMzQwNTY3NDk2NA==' frameborder=0 'allowfullscreen'></iframe>

### Demo地址，2018年新年发

32位或64位系统适用以下客户端Demo
**https://pan.baidu.com/s/1htj0l6k** [2018/3/13日已过期]

如果你不确定系统是多少位的，你可以默认下载 32位/64位系统适用的版本

新bug一览
刀左右A/右左A，无法正常接后续招式，部分招式会延迟到招式结束才释放，这是不对的（已修正）
龙葵提的bug:
解锁后无法再锁定（已修正）
选择场景确定后，要卡一定时间，才开始读条
读条100%后，小几率出现无法进入场景

完善了乾坤刀
完善了招式切换时机判定（忍刀空中A2，不会再很快的取消A1）
完善了指虎的左左A右右A切换武器
修改的bug:
忍刀,指虎,乾坤刀锁定敌方且准备状态下无法攻击
部分场景进去后错误
威震八方，该地图使用了脚本控制传送门，而且没有寻路点，很难做单机图寻路这部分
部分场景的UI相机层级低于透视相机层级，已调整
透视相机的远剪裁面距离设置为2W.稍低，在五爪峰就会显示不正确
部分场景上缺少Loader组件已添加，该组件负责从关卡配置表加载道具（现在状态是禁用）
现有的问题：
部分招式在空中释放时，会冻结XZ轴速度，这部分还要微调，比如忍刀空中攻击后，角色不会再向跳跃方向移动，而使用匕首的时候，空中攻击会继续向跳跃方向移动
下一步计划：
实现角色受击的正确反馈，包括僵直，定身，BUFF系统(毒，吸气，隐身，加速，嗜血，铜皮，血量上限)
以及关卡道具可破坏物，破坏后产出物（部分是物品生成器，比如肉包多少秒刷一次），以及拒马，落石，
秦皇陵岩浆里的移动石柱，摆刀，毒牙阵的旋转狼牙棒，等关卡陷阱，还有武器属性切换灯。
把原作关卡脚本移动到C#里，不再使用Slua,主要是每一帧都刷，会对帧率很大影响
最后是做怪物AI，也是把原作的角色AI脚本模拟一遍，不再开放给外部
[除了官方剧情的9个场景，其他场景去除脚本，类似威震八方关卡脚本都不还原了]

2018/2/15
解决了动作衔接问题，（忍刀的空中A2时机，烟雾弹可快速被打断bug)
忍刀，乾坤刀，指虎准备动作无法旋转问题（已修正）
部分场景无法进入（已修正)
冰河提的bug:
左走右走后走无法防御问题（因为跑步优先级大于防守，已修改，移动优先级在按键之后）

2018/2/14
新Demo包出来了
百度云地址
https://pan.baidu.com/s/1oAccxxK
这个版本修正了方向按键抵消功能，加入了蹲下，蹲下移动，蹲下滚动。
修正了摄像机在部分情况下抖动，以及穿墙等。
[明天]提的bug：
单人跳跃相机抖动，双人相机切换视角过程中敌人经常不在视角中
出招判定不准
小跳最好不能打到蹲下状态
自己发现的bug：
锁定目标死亡时，摄像机不会归位（因为之前调抖动时，没有让摄像机每一帧都看向目标，而是保持相对角度，已修正）
指虎，忍刀，乾坤刀准备状态时，无法操作（已修正）
特效shader被岩浆等shader遮住，要修改shader顺序（已修正）
后跳距离太远

2018/2/12
pc按键输入有问题
输入系统可能与pc硬件有关，当ad同时处于按下状态（q/e/z/c)无法响应输入，当ws同时处于按下时(a/d/e/q)无法响应
现在的做法是把按键分散开
原作里，默认情况使用ctrl蹲下，当按下同轴的ad或者ws后，依旧可以响应蹲下指令，而修改设置为c后，则原作也无法在此情况继续响应蹲下。
还有当ad按下时，仍可相应单独的ws，但是ws同时按下时，却无法响应ad

修改了蹲下，滚动，绕y轴转动，鼠标指针样子，以及方向键抵消，垂直轴移动动作比水平轴移动动作优先级高

2018/2/10
角色胶囊体调整为32高度，否则皇天城的最矮护栏过不去
发现一处原作的bug,在皇天城，一个走向楼梯的角落的墙壁上，有一个面穿透了，现在补上了

现在还有很大问题的是，小跳的最低高度很难靠操作实现，（已修改）
角色骨骼动画，可能会抖动（好像是摄像机缓动的问题）
摄像机抖动（主要是与角色间有阻隔物时）（暂停缓动摄像机，不处理遮挡）
部分招式连上但是攻击盒连不上，比如匕首上上A+空中A （原作也不是次次可以接上攻击盒，暂不处理）
部分武器防御姿态不对
现在的状态太混乱.怎么解决是大问题.比如方向键的抵消，WS优先级比AD大。

2018/2/10
以下是该版本测试客户端
https://pan.baidu.com/s/1snmf0ZV(此端已删除)
百度盘分享 2018-02-09-fps120,这个端，帧率设置为120，PC上动作流畅一些。（但是动画帧之间无插值，2个动画间过渡也无插值）

冰河提的bug：原作当相对的方向键同时按下时，会相互抵消，还未改正，（这是PC和手机操作方式不同导致的）
明天提的bug：帧率提高到120以后，同一个动作2个关键帧之间没插值，不同动作之间无混合时间。
（这个是因为之前一直想做ios版本的，所以设置为30FPS，而无法带动60FPS的动作，所以就没有做插值，接下来开个PC端分支，然后改为有插值和动作间过渡的）

2018/2/8
修正bug:角色受击后移动距离不正确
修正bug:角色受击后，任意攻击会打开全部攻击盒，导致一些关闭了的攻击特效又开始计算攻击
摄像机围绕目标优化完毕
修正忍刀烟雾弹特效大小不正确（倒地的角色，烟雾弹无法攻击到）
修正忍刀大绝特效不正常（一些ifl文件没有改.bytes后缀）
修正乾坤刀，收刀或者长枪姿态，武器应放在左手武器绑点问题
修正每种武器的闪避动作不一样问题
还未修正乾坤刀3种状态互相切换以及各个状态招式识别问题
还未修正一些连招切换时机不准确问题

2018/1/23
1：发现场景内树木，草丛的动画，是shader动画，有一些变形参数，如何还原这部分shader[仿造暗影之枪旗帜动画"MADFINGER/Environment/Lightmap + Wind"]，不怎么像，勉强能做变形动画】
2：服务器完成大厅房间等基本消息应答
3：解决了地图无氛围问题，物件的最终颜色需要乘以顶点颜色
4：客户端能够使用Protobuff与后端C++网关交互,能够获取大厅房间列表
要解决的问题：
1：调通整个创建房间，进入房间，离开房间，正常同步对战（最重要）
单机部分：
1：动画是否使用重力配表解决
2：角色间的推挤，与跳跃到对方头顶被推开
3：角色摄像机的优化
4：单机怪物AI
5：全部关卡脚本与怪物脚本的还原
6：场景道具功能实现，可破坏物件，以及全部物件脚本 全部转由C#实现，C#调用脚本效率太低
7：轻功实现（较粗糙）
8：武器Pose切换实现,乾坤刀特有
9: 远程武器实现

2017/12/18
1：脚本系统的还原，sn03关卡物件脚本已经成功还原，sn03剧情脚本还未还原
关卡物件脚本，大部分都是针对关卡里的机关的处理，类似一线天的 拒马（木栅栏）拥有4个血量状态，处于每个血量状态时受击动画都不一样，还有关卡固有的城墙上的尖刺，也是有伤害值的
其次是落石，2个大石头，开始是不具备攻击能力的，在受击后，脚本里改变了其状态，使他开始播放动画，并且变为有攻击。所以看的出原版的道具系统，基本用脚本来控制，非常灵活，但是有个不好的问题
就是配置起来要写脚本处理。
在想是不是在svn上开2个分支，一个用来尽量还原，一个用来修改出自己觉得好玩的样子。
遗留问题是，脚本好像效率严重不足，去掉脚本调用，帧数立马起来
原脚本转换到slua时要改的地方
1：变量无类型，全local
2：一些!=和&&要修改为~=和and
3：函数用function end包围着
4：if then end / for i = a, b do end 两种句型要改
5：变量要初始化再使用，默认为无定义的

2017/11/12更新：
1：特效除了粒子系统以及dummy channel以外，已经全部解析，并95%模拟OK
2017/11/8更新：
1：招式状态机已解决，除乾坤刀以外武器的按键连招输入已能正确读取