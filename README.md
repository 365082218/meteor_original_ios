# meteor_original_ios</br>
端游流星蝴蝶剑.net</br>用unity重新写的仿造工程</br>
使用unity5.5.5p1打开</br>
5.5.5p1应该是修复了打包APK权限黑屏问题的</br>
若原工程里的一些做法存在错误，希望可以告知一下：365082218@qq.com</br>

第一次开启，会弹出是否生成Slua代码</br>
如果生成之后编译器报错</br>
需要删除Assets/Slua/LuaObject/Custom内的全部文件</br>
然后点击编辑器顶部菜单栏里的SLua子菜单里的All Clear清理Slua生成文件</br>
完毕后点Slua子菜单里的All Make即可</br>

游戏起始场景是Patch场景。这个场景是做更新的，但是现在没做。</br>
Patch会跳到Menu场景，这个是游戏主菜单场景。</br>

产品修改.
1:技能点系统 仿造亡灵杀手
将怒气满后(50满)，存为技能点
每个技能点能释放特定的技能
大招消耗2个技能点.
小绝招消耗1个技能点.
爆气消耗1个技能点.

原来的集气条不再有上限，除非技能点到达上限10

战斗UI需要把可伸缩的动作栏去除
左侧顶部角色信息界面，新增技能点列表框.

摄像机与角色中有遮挡物时，遮挡物透明75%+角色描边

机器人的人工智能，按照武器系统重新设计，避免角色间的行为一致导致的看起来行为单一问题
寻路，也由每个人寻路，改为队长寻路，其他人排队跟随.且寻路在一帧内处理有限个数的路点，避免卡顿
其次要设计组智能管理，让每个角色的人工智能模块，受到上层统一管理，尽量让多个角色表现出不一致的行为
战斗，要分包围圈和战斗圈，包围圈的角色围而不攻，战斗圈最多同时N个角色攻击目标，N取决于难度.包围圈M个角色 攻击圈N个角色
远程武器尽量控制攻击频率，不要让角色的受击体验太差，频繁的受到打断造成体验较差

不要使用协程，避免顺序黑盒导致的多个端的顺序不一致问题

将NPC的输入部分，转换为事件，不再使用协程+虚拟按键 来模拟输入招式 这部分要规划到KCP协议内，设计好后，可以让玩家联机共同打副本 这种模式比较新颖，但是游戏系统可能要增强来适应

重新设计人工智能目标选择/切换的逻辑.优先级等.

人工智能发生的每一件事，都需要一段时间处理，并非一帧内就全部处理.比如选择目标/切换目标，比如寻路
所以尽量分摊帧压力,让一帧内的压力不至于导致卡顿.

优化
目标选择-分摊帧处理，且不要每一帧都处理
寻路过程


新增设置

按键设置-支持手柄自定义键位.
UI按钮位置大小自定义
可以切换为自由相机，切换观察的目标角色
可以切换为操控相机，切换观察的目标时计算一个位置和朝向，之后可以通过按键/旋转控制相机，并且不跟随玩家移动旋转

摄像机多给个模式
仿鬼泣3里相机观察角色的模式

可以做的特性
录像/回放-联机/单机都要有
子弹镜头+拍照+保存拍照+读取拍照 - 仿极品飞车，可以在特写时，选一个时间，多方位的保存几张拍照图
技能点系统-爆气耗费1技能点，持续多少秒 攻击提升 + 身体材质荧光，仿拳皇-爆气后还有爆气CD条
相机与角色间受到遮挡时，人物角色描边/遮挡物半透明
QTE系统设计-类似斩杀，弹反的设定
技能相机特写-可参照nds游戏 假面骑士

多主角系统-可挑选角色进入以该角色设计的剧本，在某一关卡之后，2个剧本角色的相遇/可以切换操作角色，双角色其中之一交给AI。可以及时切换角色

bug待解决
单机时，不要使用帧转发系统只记录所有角色某一帧的操作用于回放
关卡结束时，清理战场物件后再切换场景

简化方向
3D战斗模式，选定一个敌方目标，以主角以及目标作为横轴，固定Z轴后，让角色只能在战斗中左右移动，出招，而上下无法再向3D的Z轴内外移动，用固定一个轴的方式
做简化，避免3D环境下战斗操作别扭问题
